$(function() {

  var toggleA = false;
  var toggleB = false;

  //こんにちは
  function kon1 (evt) {
    $("#sign_kon1").text("kon1_OK");
    toggleA = true;
  }

  function kon2 (evt) {
    if (toggleA == true){
      $('#sign_kon2').text('kon2_OK');
      toggleB = true;

      if ((toggleA == true) && (toggleB == true)){
        $('#sign_kon_OK').text('こんにちわ');
      }
    }
  }

  //こんばんは

  //delete
  function del (evt) {
    $("#sign_kon1").text("?");
    $("#sign_kon2").text("?");
    $("#sign_kon_OK").text("?");

    toggleA = false;
    toggleB = false;
  }

  var trainer = new LeapTrainer.Controller(); 

  //こんにちは
  trainer.fromJSON('{"name":"KON1","pose":true,"data":[[{"x":0.13424109534011786,"y":-0.34722222222222227,"z":0.14898427736118552,"stroke":1},{"x":0.1181321638993037,"y":-0.30555555555555547,"z":0.1311061640778432,"stroke":1},{"x":-0.2523732592394215,"y":0.6527777777777777,"z":-0.2800904414390287,"stroke":1}]]}');
  trainer.fromJSON('{"name":"KON2","pose":false,"data":[[{"x":-0.4819621268503339,"y":-0.11101221698568611,"z":0.08029778643006369,"stroke":1},{"x":-0.06449793366189288,"y":0.07085106589703632,"z":0.031451312662854225,"stroke":1},{"x":0.5053387807193984,"y":-0.08629900511097582,"z":-0.02848565476518125,"stroke":1},{"x":0.0029699489587645678,"y":-0.10499347153822636,"z":0.026987344671722535,"stroke":1},{"x":-0.43611862097245985,"y":-0.01594338252001727,"z":0.0673100998986848,"stroke":1},{"x":0.024444120921295887,"y":0.056671473600460154,"z":0.010981377354460808,"stroke":1},{"x":0.5180378731496661,"y":-0.06514496696451483,"z":-0.03548192352625115,"stroke":1},{"x":0.11181056472740347,"y":0.011901948671962509,"z":-0.0039947560650280545,"stroke":1},{"x":-0.46444695251259294,"y":-0.10734404553496261,"z":0.07792064315364983,"stroke":1},{"x":-0.10595830019473662,"y":0.10441608765489771,"z":0.006988677487039324,"stroke":1},{"x":0.4606051555613023,"y":-0.07110123762355948,"z":-0.027680978813957507,"stroke":1},{"x":0.2082176822671663,"y":0.058569567432326414,"z":-0.056478065740048156,"stroke":1},{"x":-0.35835587503078464,"y":-0.08056626017829155,"z":0.05594120122523699,"stroke":1},{"x":-0.2925686592880874,"y":0.16222828090128202,"z":0.01840953828479555,"stroke":1},{"x":0.372484342205891,"y":0.17776616229826878,"z":-0.22416660225804103,"stroke":1}]]}');

  //こんばん
  trainer.fromJSON('{"name":"KONBAN1","pose":false,"data":[[{"x":-0.4930142675544555,"y":-0.0014237587381290412,"z":0.20616989451256418,"stroke":1},{"x":0.4739858496936085,"y":0.030562826620755837,"z":-0.17606238226560417,"stroke":1},{"x":-0.29411047302280824,"y":0.007344723883709145,"z":0.01905614456136795,"stroke":1},{"x":-0.29285378640329085,"y":-0.005304063295225231,"z":0.14399372591632736,"stroke":1},{"x":0.3253286073531308,"y":0.036925088133911224,"z":-0.10866729631858003,"stroke":1},{"x":-0.28860867846787264,"y":0.014864290679140454,"z":-0.014319233791149494,"stroke":1},{"x":-0.41033216403879647,"y":-0.005214147951955836,"z":0.1670358819813056,"stroke":1},{"x":0.5069857324455445,"y":0.02693157179877033,"z":-0.17991714059454833,"stroke":1},{"x":0.19022907520982263,"y":0.0314926037010841,"z":0.04529903368958654,"stroke":1},{"x":-0.3181368485465804,"y":-0.002561278167204889,"z":-0.14963447210378358,"stroke":1},{"x":-0.21040775289482344,"y":-0.0055457460150559745,"z":0.1035252590614304,"stroke":1},{"x":0.4218544577443059,"y":0.032176358019476145,"z":-0.1433884311849008,"stroke":1},{"x":0.13777490394456243,"y":0.04786952978301333,"z":0.05019893663251465,"stroke":1},{"x":0.1786953865582867,"y":0.062459715308988265,"z":0.03909965802604948,"stroke":1},{"x":-0.08243847469392696,"y":0.010603945813842788,"z":-0.04445105014232764,"stroke":1},{"x":-0.2301049255435979,"y":-0.030573432372251644,"z":-0.10370161714120213,"stroke":1},{"x":-0.18002608648966872,"y":-0.05957710463803035,"z":-0.13180487012207726,"stroke":1},{"x":-0.12848782140571763,"y":-0.0461931193589729,"z":-0.10539392963674682,"stroke":1},{"x":0.07157495211504922,"y":0.054543926607841894,"z":0.0319719979579213,"stroke":1},{"x":-0.10180117409960021,"y":0.041538799702207405,"z":0.10751484883176737,"stroke":1},{"x":0.05688645511869855,"y":0.07629176426783034,"z":-0.04818876962777188,"stroke":1},{"x":0.25984537559374626,"y":-0.10472656462377396,"z":0.13008321993985372,"stroke":1},{"x":0.10771688280084163,"y":-0.09788981446784605,"z":0.12238891259967433,"stroke":1},{"x":0.2994447745835402,"y":-0.1145961146921247,"z":0.039191679218328446,"stroke":1}]]}');

  //DELETE
  trainer.fromJSON('{"name":"DEL","pose":false,"data":[[{"x":-0.27552660326439904,"y":0.009472139736016356,"z":0.20706554715563796,"stroke":1},{"x":-0.430439819222587,"y":-0.017531812217877862,"z":0.25527103727814265,"stroke":1},{"x":-0.4879054574174468,"y":0.006816721419577926,"z":0.14828364535462396,"stroke":1},{"x":-0.4479514481800507,"y":0.031637314418716596,"z":0.0039175925515304855,"stroke":1},{"x":-0.3054628709198872,"y":0.041471803135631626,"z":-0.10084022248105257,"stroke":1},{"x":-0.11170019547698679,"y":0.008687230997853228,"z":-0.1549968369101925,"stroke":1},{"x":0.11760790692708484,"y":-0.002159726273812411,"z":-0.15132838703751159,"stroke":1},{"x":0.1894701853975373,"y":0.0060066832264234135,"z":-0.03513645450015046,"stroke":1},{"x":0.2384464828472082,"y":0.006794072249763625,"z":0.06215073806453536,"stroke":1},{"x":0.11648996092206537,"y":-0.02173048525114103,"z":0.010577050420115947,"stroke":1},{"x":0.25085128495293924,"y":-0.04977347031451295,"z":-0.1426732641267868,"stroke":1},{"x":0.4888357734520266,"y":-0.01694608248202651,"z":-0.19861439113809426,"stroke":1},{"x":0.5120945425825532,"y":-0.03313618433212623,"z":-0.023524816377273244,"stroke":1},{"x":0.3355206403557696,"y":0.01570486798290959,"z":0.051005826214438305,"stroke":1},{"x":0.16266466922070305,"y":0.004862036983872373,"z":-0.050119685877933695,"stroke":1},{"x":0.20504461992467932,"y":-0.018528797293712762,"z":-0.16002027680281072,"stroke":1},{"x":0.2490675882653312,"y":0.004366238867298318,"z":-0.17399028526493684,"stroke":1},{"x":0.21708446757143046,"y":-0.026556165766286235,"z":-0.08186621016079433,"stroke":1},{"x":0.0779993696733789,"y":0.008447950353408847,"z":0.03672332615071042,"stroke":1},{"x":-0.05986482158198364,"y":0.02307134378552273,"z":0.15494759372786227,"stroke":1},{"x":-0.2535269185631414,"y":-0.009864151366804533,"z":0.17663602291203812,"stroke":1},{"x":-0.42326391383985595,"y":-0.01457528265246777,"z":0.18671259136310236,"stroke":1},{"x":-0.3655354436263674,"y":0.043463754793773936,"z":-0.020180140515201117,"stroke":1}]]}');

  //trainer.fromJSON('');

  trainer.on('KON1', kon1);
  trainer.on('KON2', kon2);
  trainer.on('KONBAN1', konban1)
  trainer.on('DEL', del);

});