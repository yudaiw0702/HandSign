$(function() {

  var toggleA = false;
  var toggleB = false;

  //こんにちは
  function kon1 (evt) {
    $('#sign_kon1').text('kon1_OK');
    toggleA = true;
  }

  function kon2 (evt) {
    if (toggleA == true){
      $('#sign_kon2').text('kon2_OK');
      toggleB = true;

      if ((toggleA == true) && (toggleB == true)){
        $('#sign_kon_OK').text('こんにちわ');
      }
    }
  } 

  var trainer = new LeapTrainer.Controller(); 

  //こんにちは
  trainer.fromJSON('{"name":"KON1","pose":true,"data":[[{"x":0.05469417218525899,"y":-0.29550239367641357,"z":0.22888431998470826,"stroke":1},{"x":0.051363832416039173,"y":-0.2348325354411955,"z":0.20085875051608237,"stroke":1},{"x":0.04803349264681933,"y":-0.17416267720597745,"z":0.17283318104745649,"stroke":1},{"x":-0.15409149724811744,"y":0.7044976063235864,"z":-0.602576251548247,"stroke":1}]]}');
  trainer.fromJSON('{"name":"KON2","pose":false,"data":[[{"x":0.4945049917551064,"y":-0.10205311014316296,"z":0.0017891072966303434,"stroke":1},{"x":0.050739297307050846,"y":0.007278784987285403,"z":0.0709526152396088,"stroke":1},{"x":-0.4285661073804482,"y":-0.10387326388081526,"z":0.05630495605853267,"stroke":1},{"x":-0.2523454724246515,"y":0.04946544641633435,"z":0.06840104402218286,"stroke":1},{"x":0.11692244339123159,"y":0.024140391253943294,"z":-0.0485964649098061,"stroke":1},{"x":0.41501202202131515,"y":-0.056101648042303665,"z":0.010244772495620336,"stroke":1},{"x":-0.0319577097112656,"y":0.014233314893783433,"z":0.03862259223764922,"stroke":1},{"x":-0.5054950082448936,"y":-0.11949721057664742,"z":0.052097617454139794,"stroke":1},{"x":-0.21167122334734106,"y":0.07833024269710806,"z":0.03030070806679727,"stroke":1},{"x":0.12533423974781344,"y":0.03376559837397605,"z":-0.07468249201777255,"stroke":1},{"x":0.41822984852218403,"y":-0.048928548090491256,"z":-0.003616874266344522,"stroke":1},{"x":-0.007211543956487876,"y":0.05655484403652533,"z":-0.0047269537766202185,"stroke":1},{"x":-0.18349577767961384,"y":0.16668515807446466,"z":-0.1970906279006178,"stroke":1}]]}');

  trainer.on('KON1', kon1);
  trainer.on('KON2', kon2);

});